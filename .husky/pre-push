#!/bin/sh
# Husky v10 compatibility: removed sourcing of internal husky loader lines
# and rely on a simple pre-push script invocation to reduce failures in
# constrained environments (Windows spawn EINVAL issues). If you run
# Husky v10+, ensure hooks are reinitialized via `husky install`.

echo "Running tests before push via Node runner..."
node ./scripts/prepush.js || {
	echo "pre-push tests failed or could not run; aborting push." >&2
	exit 1
}
